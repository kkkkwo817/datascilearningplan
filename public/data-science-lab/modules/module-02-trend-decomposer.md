# Module 02: å‹•æ…‹è¶¨å‹¢åˆ†è§£å™¨

## ğŸ“Š æ¨¡çµ„æ¦‚è¿°
- **å­¸ç¿’ç›®æ¨™**: æŒæ¡æ™‚é–“åºåˆ—åˆ†è§£æŠ€è¡“ã€ç§»å‹•å¹³å‡ã€å­£ç¯€æ€§æª¢æ¸¬ï¼Œå»ºç«‹å‹•æ…‹è¶¨å‹¢åˆ†æç³»çµ±
- **æ•¸æ“šç§‘å­¸æ¦‚å¿µ**: STLåˆ†è§£ã€ç§»å‹•å¹³å‡ã€æŒ‡æ•¸å¹³æ»‘ã€å­£ç¯€æ€§åˆ†æã€æ™‚é–“åºåˆ—ç•°å¸¸æª¢æ¸¬
- **æ‡‰ç”¨å ´æ™¯**: è‚¡åƒ¹è¶¨å‹¢åˆ†æã€æ¥­å‹™æŒ‡æ¨™åˆ†è§£ã€é€±æœŸæ€§æ¨¡å¼è­˜åˆ¥ã€é æ¸¬å»ºæ¨¡æº–å‚™
- **é›£åº¦ç­‰ç´š**: â­â­â­ (1-5æ˜Ÿ)
- **é è¨ˆå­¸ç¿’æ™‚é–“**: 4 å¤©
- **å‰ç½®çŸ¥è­˜**: Module 01 åŸºç¤ã€æ™‚é–“åºåˆ—æ¦‚å¿µã€çµ±è¨ˆå­¸åŸºç¤

## ğŸ¯ åŠŸèƒ½è¦æ ¼

### æ ¸å¿ƒåŠŸèƒ½
- [x] STLåˆ†è§£å¯¦ç¾ï¼šå°‡æ™‚é–“åºåˆ—åˆ†è§£ç‚ºè¶¨å‹¢ã€å­£ç¯€æ€§ã€æ®˜å·®çµ„ä»¶
- [x] å¤šç¨®å¹³æ»‘æ–¹æ³•ï¼šç§»å‹•å¹³å‡ã€æŒ‡æ•¸å¹³æ»‘ã€è‡ªé©æ‡‰å¹³æ»‘
- [x] å­£ç¯€æ€§æª¢æ¸¬ï¼šè‡ªå‹•è­˜åˆ¥é€±æœŸæ€§æ¨¡å¼å’Œå¼·åº¦è©•ä¼°
- [x] ç•°å¸¸æª¢æ¸¬ï¼šåŸºæ–¼æ®˜å·®åˆ†æçš„æ™‚é–“åºåˆ—ç•°å¸¸é»è­˜åˆ¥
- [x] é æ¸¬åŠŸèƒ½ï¼šåŸºæ–¼è¶¨å‹¢çµ„ä»¶çš„çŸ­æœŸé æ¸¬

### ACTION BUTTONS è¨­è¨ˆ

| æŒ‰éˆ•åç¨± | å­¸ç¿’æ¦‚å¿µ | æŠ€è¡“å¯¦ç¾ | é æœŸæ•ˆæœ | å®Œæˆç‹€æ…‹ |
|---------|---------|---------|---------|---------|
| `[æª¢æ¸¬å­£ç¯€æ€§]` | é€±æœŸæ€§åˆ†æã€é »åŸŸåˆ†æ | STLåˆ†è§£ + å­£ç¯€å¼·åº¦è¨ˆç®— | ç†è§£å­£ç¯€æ€§æ¨¡å¼è­˜åˆ¥ | âœ… |
| `[é æ¸¬è¶¨å‹¢]` | è¶¨å‹¢å¤–æ¨ã€ç·šæ€§é æ¸¬ | è¶¨å‹¢çµ„ä»¶å›æ­¸åˆ†æ | æŒæ¡åŸºç¤é æ¸¬æ–¹æ³• | âœ… |
| `[è­˜åˆ¥ç•°å¸¸]` | çµ±è¨ˆç•°å¸¸æª¢æ¸¬ã€Z-score | æ®˜å·®åˆ†æ + é–¾å€¼åˆ¤æ–· | å­¸ç¿’æ™‚é–“åºåˆ—ç•°å¸¸æª¢æ¸¬ | âœ… |
| `[å°å‡ºåˆ†è§£]` | æ•¸æ“šçµæ§‹åŒ–ã€çµæœè¼¸å‡º | JSONæ ¼å¼åŒ– + æ—¥èªŒè¼¸å‡º | ç†è§£åˆ†è§£çµæœçµæ§‹ | âœ… |
| `[èª¿æ•´å­£ç¯€æ€§]` | åƒæ•¸èª¿å„ªã€å‹•æ…‹èª¿æ•´ | å­£ç¯€é€±æœŸå‹•æ…‹åˆ‡æ› | æŒæ¡åƒæ•¸æ•æ„Ÿæ€§åˆ†æ | âœ… |

*å®Œæˆç‹€æ…‹: â­ æœªé–‹å§‹ | ğŸŸ¡ é€²è¡Œä¸­ | âœ… å·²å®Œæˆ*

### äº’å‹•åƒæ•¸è¨­è¨ˆ
- **æ™‚é–“ç¯„åœ**: timeRange - åˆ†æçš„æ™‚é–“çª—å£ - ['1M', '3M', '6M', '1Y', '2Y', 'ALL']
- **åˆ†è§£æ–¹æ³•**: decompositionMethod - é¸æ“‡åˆ†è§£ç®—æ³• - ['STL', 'Moving_Average', 'Exponential_Smoothing', 'Classical']
- **å­£ç¯€é€±æœŸ**: seasonalPeriod - é€±æœŸæ€§æ¨¡å¼çš„é•·åº¦ - [7, 30, 90, 365] (å¤©)
- **å¹³æ»‘çª—å£**: smoothingWindow - ç§»å‹•å¹³å‡çš„çª—å£å¤§å° - [3-50] (å¤©)
- **ç•°å¸¸é–¾å€¼**: anomalyThreshold - ç•°å¸¸æª¢æ¸¬çš„æ•æ„Ÿåº¦ - [1.5-4.0] (æ¨™æº–å·®å€æ•¸)

## ğŸ”¬ æ•¸æ“šç§‘å­¸çŸ¥è­˜é»

### ç†è«–åŸºç¤

#### æ ¸å¿ƒç®—æ³•/æ–¹æ³•
- **STLåˆ†è§£ (Seasonal-Trend-Loess)**: å±€éƒ¨åŠ æ¬Šå›æ­¸çš„åˆ†è§£æ–¹æ³•ï¼Œé©åˆè¤‡é›œå­£ç¯€æ€§
- **ç§»å‹•å¹³å‡**: å›ºå®šçª—å£å¹³å‡å€¼è¨ˆç®—ï¼Œå¹³æ»‘çŸ­æœŸæ³¢å‹•
- **æŒ‡æ•¸å¹³æ»‘**: åŠ æ¬Šå¹³å‡ï¼Œè¿‘æœŸæ•¸æ“šæ¬Šé‡æ›´é«˜
- **å­£ç¯€æ€§æª¢æ¸¬**: åŸºæ–¼è‡ªç›¸é—œå‡½æ•¸å’Œé »è­œåˆ†æè­˜åˆ¥é€±æœŸ

#### æ•¸å­¸åŸç†
- **STLåˆ†è§£å…¬å¼**: Y(t) = T(t) + S(t) + R(t)ï¼Œå…¶ä¸­Tç‚ºè¶¨å‹¢ï¼ŒSç‚ºå­£ç¯€æ€§ï¼ŒRç‚ºæ®˜å·®
- **ç§»å‹•å¹³å‡**: MA(t) = (1/k) * Î£[Y(t-i)]ï¼Œiå¾0åˆ°k-1
- **æŒ‡æ•¸å¹³æ»‘**: S(t) = Î±*Y(t) + (1-Î±)*S(t-1)ï¼ŒÎ±ç‚ºå¹³æ»‘ä¿‚æ•¸
- **å­£ç¯€æŒ‡æ•¸**: SI(p) = Î£[Y(t) - T(t)] / nï¼Œpç‚ºå­£ç¯€ä½ç½®
- **ç•°å¸¸æª¢æ¸¬**: Z = |R(t) - Î¼(R)| / Ïƒ(R) > threshold

#### çµ±è¨ˆæ¦‚å¿µ
- **è‡ªç›¸é—œå‡½æ•¸**: æ¸¬é‡æ™‚é–“åºåˆ—èˆ‡å…¶æ»¯å¾Œç‰ˆæœ¬çš„ç›¸é—œæ€§
- **å­£ç¯€æ€§å¼·åº¦**: å­£ç¯€çµ„ä»¶è®ŠåŒ–ç¯„åœèˆ‡ç¸½è®ŠåŒ–ç¯„åœçš„æ¯”å€¼
- **è¶¨å‹¢å¼·åº¦**: è¶¨å‹¢çµ„ä»¶è®ŠåŒ–ç¯„åœèˆ‡ç¸½è®ŠåŒ–ç¯„åœçš„æ¯”å€¼
- **æ®˜å·®åˆ†æ**: å»é™¤è¶¨å‹¢å’Œå­£ç¯€æ€§å¾Œçš„éš¨æ©Ÿçµ„ä»¶åˆ†æ

### å¯¦éš›æ‡‰ç”¨

#### é‡‘èå ´æ™¯æ‡‰ç”¨
- **è‚¡åƒ¹åˆ†æ**: åˆ†é›¢é•·æœŸè¶¨å‹¢ã€å­£ç¯€æ€§æ³¢å‹•å’Œéš¨æ©Ÿå™ªè²
- **äº¤æ˜“é‡åˆ†æ**: è­˜åˆ¥äº¤æ˜“æ´»å‹•çš„é€±æœŸæ€§æ¨¡å¼
- **åˆ©ç‡åˆ†æ**: åˆ†è§£åˆ©ç‡è®ŠåŒ–çš„çµæ§‹çµ„ä»¶
- **åŒ¯ç‡é æ¸¬**: åŸºæ–¼è¶¨å‹¢çµ„ä»¶é€²è¡ŒçŸ­æœŸåŒ¯ç‡é æ¸¬

#### æ¥­å‹™åƒ¹å€¼
- **è¶¨å‹¢è­˜åˆ¥**: æ—©æœŸè­˜åˆ¥æ¥­å‹™æŒ‡æ¨™çš„è®ŠåŒ–è¶¨å‹¢
- **å­£ç¯€æ€§è¦åŠƒ**: åŸºæ–¼æ­·å²å­£ç¯€æ€§æ¨¡å¼åˆ¶å®šæ¥­å‹™è¨ˆåŠƒ
- **ç•°å¸¸ç›£æ§**: å¯¦æ™‚ç›£æ§æ¥­å‹™æŒ‡æ¨™çš„ç•°å¸¸è®ŠåŒ–
- **é æ¸¬åŸºç¤**: ç‚ºé æ¸¬æ¨¡å‹æä¾›ä¹¾æ·¨çš„è¶¨å‹¢æ•¸æ“š

#### æ±ºç­–æ”¯æŒ
- **æŠ•è³‡æ™‚æ©Ÿ**: åŸºæ–¼è¶¨å‹¢åˆ†æé¸æ“‡æŠ•è³‡æ™‚æ©Ÿ
- **é¢¨éšªç®¡ç†**: é€šéç•°å¸¸æª¢æ¸¬åŠæ—©ç™¼ç¾é¢¨éšªä¿¡è™Ÿ
- **æ¥­ç¸¾è©•ä¼°**: åˆ†é›¢å­£ç¯€æ€§å½±éŸ¿è©•ä¼°çœŸå¯¦æ¥­ç¸¾
- **è³‡æºé…ç½®**: åŸºæ–¼å­£ç¯€æ€§æ¨¡å¼å„ªåŒ–è³‡æºé…ç½®

## ğŸ’» æŠ€è¡“å¯¦ç¾

### çµ„ä»¶æ¶æ§‹
```typescript
// è¶¨å‹¢åˆ†è§£å™¨çµ„ä»¶æ¥å£è¨­è¨ˆ
interface TrendDecomposerProps {
  data?: TimeSeriesData[]
  theme?: 'light' | 'dark'
}

interface TimeSeriesData {
  date: string
  value: number
  trend?: number
  seasonal?: number
  residual?: number
  anomaly?: boolean
}

interface DecompositionResult {
  original: TimeSeriesData[]
  trend: number[]
  seasonal: number[]
  residual: number[]
  anomalies: boolean[]
}

interface TrendMetrics {
  trendDirection: 'up' | 'down' | 'flat'
  trendStrength: number
  seasonalityStrength: number
  noiseLevel: number
  anomalyCount: number
  volatility: number
}
```

### æ•¸æ“šè™•ç†é‚è¼¯
```typescript
// STLåˆ†è§£æ ¸å¿ƒç®—æ³•å¯¦ç¾
const stlDecomposition = (data: TimeSeriesData[], seasonalPeriod: number): DecompositionResult => {
  const values = data.map(d => d.value)
  const n = values.length
  
  // 1. è¨ˆç®—è¶¨å‹¢çµ„ä»¶ (ç§»å‹•å¹³å‡)
  const trend: number[] = []
  const windowSize = Math.min(seasonalPeriod * 2 + 1, Math.floor(n / 3))
  
  for (let i = 0; i < n; i++) {
    const start = Math.max(0, i - Math.floor(windowSize / 2))
    const end = Math.min(n, start + windowSize)
    const window = values.slice(start, end)
    trend[i] = window.reduce((sum, val) => sum + val, 0) / window.length
  }
  
  // 2. å»é™¤è¶¨å‹¢
  const detrended = values.map((val, i) => val - trend[i])
  
  // 3. è¨ˆç®—å­£ç¯€æ€§çµ„ä»¶
  const seasonal: number[] = new Array(n).fill(0)
  const seasonalAverage: number[] = new Array(seasonalPeriod).fill(0)
  const seasonalCount: number[] = new Array(seasonalPeriod).fill(0)
  
  // è¨ˆç®—æ¯å€‹å­£ç¯€ä½ç½®çš„å¹³å‡å€¼
  for (let i = 0; i < n; i++) {
    const seasonIndex = i % seasonalPeriod
    seasonalAverage[seasonIndex] += detrended[i]
    seasonalCount[seasonIndex]++
  }
  
  // æ¨™æº–åŒ–å­£ç¯€å¹³å‡å€¼
  for (let i = 0; i < seasonalPeriod; i++) {
    if (seasonalCount[i] > 0) {
      seasonalAverage[i] /= seasonalCount[i]
    }
  }
  
  // ä¸­å¿ƒåŒ–å­£ç¯€æ€§çµ„ä»¶
  const seasonalMean = seasonalAverage.reduce((sum, val) => sum + val, 0) / seasonalPeriod
  for (let i = 0; i < seasonalPeriod; i++) {
    seasonalAverage[i] -= seasonalMean
  }
  
  // åˆ†é…å­£ç¯€æ€§çµ„ä»¶åˆ°æ¯å€‹æ•¸æ“šé»
  for (let i = 0; i < n; i++) {
    seasonal[i] = seasonalAverage[i % seasonalPeriod]
  }
  
  // 4. è¨ˆç®—æ®˜å·®çµ„ä»¶
  const residual = values.map((val, i) => val - trend[i] - seasonal[i])
  
  // 5. ç•°å¸¸æª¢æ¸¬ (åŸºæ–¼æ®˜å·®çš„Z-score)
  const residualMean = residual.reduce((sum, val) => sum + val, 0) / residual.length
  const residualStd = Math.sqrt(
    residual.reduce((sum, val) => sum + Math.pow(val - residualMean, 2), 0) / residual.length
  )
  
  const anomalies = residual.map(val => {
    const zScore = Math.abs((val - residualMean) / residualStd)
    return zScore > 2.5 // 2.5 sigma é–¾å€¼
  })
  
  return { original: data, trend, seasonal, residual, anomalies }
}
```

```typescript
// ç§»å‹•å¹³å‡è¨ˆç®—
const calculateMovingAverage = (data: number[], window: number): number[] => {
  const result: number[] = []
  for (let i = 0; i < data.length; i++) {
    if (i < window - 1) {
      result.push(NaN)
    } else {
      const sum = data.slice(i - window + 1, i + 1).reduce((a, b) => a + b, 0)
      result.push(sum / window)
    }
  }
  return result
}

// æŒ‡æ•¸å¹³æ»‘è¨ˆç®—
const exponentialSmoothing = (data: number[], alpha: number): number[] => {
  const result: number[] = [data[0]]
  for (let i = 1; i < data.length; i++) {
    result[i] = alpha * data[i] + (1 - alpha) * result[i - 1]
  }
  return result
}

// è¶¨å‹¢æŒ‡æ¨™è¨ˆç®—
const calculateTrendMetrics = (decomposition: DecompositionResult): TrendMetrics => {
  const { trend, seasonal, residual } = decomposition
  
  // è¶¨å‹¢æ–¹å‘
  const trendStart = trend[Math.floor(trend.length * 0.1)]
  const trendEnd = trend[Math.floor(trend.length * 0.9)]
  const trendDirection: 'up' | 'down' | 'flat' = 
    trendEnd > trendStart * 1.05 ? 'up' : 
    trendEnd < trendStart * 0.95 ? 'down' : 'flat'
  
  // è¶¨å‹¢å¼·åº¦ (è¶¨å‹¢è®ŠåŒ–çš„ç›¸å°å¤§å°)
  const trendRange = Math.max(...trend) - Math.min(...trend)
  const dataRange = Math.max(...decomposition.original.map(d => d.value)) - 
                   Math.min(...decomposition.original.map(d => d.value))
  const trendStrength = dataRange > 0 ? trendRange / dataRange : 0
  
  // å­£ç¯€æ€§å¼·åº¦
  const seasonalRange = Math.max(...seasonal) - Math.min(...seasonal)
  const seasonalityStrength = dataRange > 0 ? seasonalRange / dataRange : 0
  
  // å™ªè²æ°´å¹³
  const residualStd = Math.sqrt(
    residual.reduce((sum, val) => sum + val * val, 0) / residual.length
  )
  const noiseLevel = dataRange > 0 ? residualStd / dataRange : 0
  
  return {
    trendDirection,
    trendStrength,
    seasonalityStrength,
    noiseLevel,
    anomalyCount: decomposition.anomalies.filter(Boolean).length,
    volatility: residualStd
  }
}
```

### è¦–è¦ºåŒ–é…ç½®
```javascript
// åŸå§‹æ™‚é–“åºåˆ—åœ–è¡¨é…ç½®
const originalChartOption = {
  title: { text: 'åŸå§‹æ™‚é–“åºåˆ—' },
  tooltip: {
    trigger: 'axis',
    formatter: (params) => {
      const data = params[0]
      const index = data.dataIndex
      const isAnomaly = decomposition.anomalies[index]
      return `
        <div>
          <strong>${data.axisValue}</strong><br/>
          åŸå§‹å€¼: ${formatCurrency(data.value)}<br/>
          ${isAnomaly ? '<span style="color: red;">âš ï¸ ç•°å¸¸é»</span>' : ''}
        </div>
      `
    }
  },
  xAxis: {
    type: 'category',
    data: rawData.map(d => d.date)
  },
  yAxis: { type: 'value' },
  series: [
    {
      name: 'åŸå§‹æ•¸æ“š',
      type: 'line',
      data: rawData.map(d => d.value),
      smooth: true,
      lineStyle: { width: 2 }
    },
    {
      name: 'ç§»å‹•å¹³å‡',
      type: 'line',
      data: movingAverageData,
      smooth: true,
      lineStyle: { width: 2, type: 'dashed' },
      itemStyle: { color: '#ff7f0e' }
    }
  ]
}

// STLåˆ†è§£çµæœåœ–è¡¨é…ç½®
const decompositionChartOption = {
  title: { text: 'æ™‚é–“åºåˆ—åˆ†è§£' },
  tooltip: { trigger: 'axis' },
  legend: { data: ['è¶¨å‹¢', 'å­£ç¯€æ€§', 'æ®˜å·®'] },
  xAxis: {
    type: 'category',
    data: rawData.map(d => d.date)
  },
  yAxis: { type: 'value' },
  series: [
    {
      name: 'è¶¨å‹¢',
      type: 'line',
      data: decomposition.trend,
      smooth: true,
      itemStyle: { color: '#1f77b4' }
    },
    {
      name: 'å­£ç¯€æ€§',
      type: 'line',
      data: decomposition.seasonal,
      smooth: true,
      itemStyle: { color: '#ff7f0e' }
    },
    {
      name: 'æ®˜å·®',
      type: 'line',
      data: decomposition.residual,
      itemStyle: { color: '#2ca02c' }
    }
  ]
}
```

### æ ¸å¿ƒç®—æ³•å¯¦ç¾
```typescript
// å­£ç¯€æ€§æª¢æ¸¬ç®—æ³•
const detectSeasonality = (data: number[], maxPeriod: number = 100): number => {
  let bestPeriod = 0
  let maxCorrelation = 0
  
  for (let period = 2; period <= Math.min(maxPeriod, Math.floor(data.length / 3)); period++) {
    let correlation = 0
    let count = 0
    
    for (let i = period; i < data.length; i++) {
      correlation += data[i] * data[i - period]
      count++
    }
    
    correlation /= count
    
    if (correlation > maxCorrelation) {
      maxCorrelation = correlation
      bestPeriod = period
    }
  }
  
  return bestPeriod
}

// è¶¨å‹¢é æ¸¬ç®—æ³•
const forecastTrend = (trendData: number[], steps: number = 5): number[] => {
  const n = trendData.length
  const x = Array.from({length: n}, (_, i) => i)
  
  // ç·šæ€§å›æ­¸è¨ˆç®—
  const sumX = x.reduce((sum, val) => sum + val, 0)
  const sumY = trendData.reduce((sum, val) => sum + val, 0)
  const sumXY = x.reduce((sum, val, i) => sum + val * trendData[i], 0)
  const sumXX = x.reduce((sum, val) => sum + val * val, 0)
  
  const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX)
  const intercept = (sumY - slope * sumX) / n
  
  // é æ¸¬æœªä¾†å€¼
  const forecast: number[] = []
  for (let i = 0; i < steps; i++) {
    const futureX = n + i
    forecast.push(slope * futureX + intercept)
  }
  
  return forecast
}
```

## ğŸ¨ è¦–è¦ºåŒ–æŠ€è¡“

### åœ–è¡¨é¡å‹é¸æ“‡

#### ä¸»è¦åœ–è¡¨
- **æ™‚é–“åºåˆ—æŠ˜ç·šåœ–**: é¡¯ç¤ºåŸå§‹æ•¸æ“šå’Œå¹³æ»‘çµæœ - è­˜åˆ¥æ•´é«”è¶¨å‹¢ - æ”¯æ´ç•°å¸¸é»æ¨™è¨˜
- **åˆ†è§£çµ„ä»¶åœ–**: åˆ†åˆ¥é¡¯ç¤ºè¶¨å‹¢ã€å­£ç¯€æ€§ã€æ®˜å·® - ç†è§£å„çµ„ä»¶è²¢ç» - ä¾¿æ–¼æ¨¡å¼åˆ†æ
- **æ•£é»åœ–**: æ¨™è¨˜ç•°å¸¸é»ä½ç½® - çªå‡ºé¡¯ç¤ºç•°å¸¸å€¼ - æ”¯æ´é»æ“ŠæŸ¥çœ‹è©³æƒ…

#### è¼”åŠ©åœ–è¡¨
- **æ³¢å‹•ç‡åˆ†æ**: é¡¯ç¤ºæ•¸æ“šçš„ç›¸å°è®ŠåŒ–ç¨‹åº¦
- **å­£ç¯€æ€§ç†±åŠ›åœ–**: å¯è¦–åŒ–å­£ç¯€æ€§æ¨¡å¼å¼·åº¦

### è¨­è¨ˆåŸå‰‡

#### è‰²å½©é‹ç”¨
- **ä¸»è‰²èª¿**: è—è‰²ç³» (#1f77b4) - è¡¨ç¤ºè¶¨å‹¢çµ„ä»¶çš„ç©©å®šæ€§
- **è¼”åŠ©è‰²**: æ©™è‰² (#ff7f0e) è¡¨ç¤ºå­£ç¯€æ€§ï¼Œç¶ è‰² (#2ca02c) è¡¨ç¤ºæ®˜å·®
- **è­¦å‘Šè‰²**: ç´…è‰² (#d62728) æ¨™è¨˜ç•°å¸¸é»å’Œè­¦å‘Šä¿¡æ¯

#### å¸ƒå±€è¨­è¨ˆ
- **åˆ†é å¼è¨­è¨ˆ**: åŸå§‹æ•¸æ“šã€åˆ†è§£çµæœã€æ·±åº¦åˆ†æä¸‰å€‹æ¨™ç±¤é 
- **éŸ¿æ‡‰å¼å¸ƒå±€**: æŒ‡æ¨™å¡ç‰‡è‡ªé©æ‡‰æ’åˆ—ï¼Œåœ–è¡¨è‡ªå‹•ç¸®æ”¾
- **å±¤æ¬¡çµæ§‹**: å¾ç¸½é«”æ¦‚è¦½åˆ°è©³ç´°åˆ†æçš„æ¸…æ™°å±¤æ¬¡

#### äº’å‹•é«”é©—
- **å¯¦æ™‚åƒæ•¸èª¿æ•´**: æ»‘æ¡¿å’Œé¸æ“‡å™¨å³æ™‚æ›´æ–°åˆ†æçµæœ
- **å·¥å…·æç¤º**: è©³ç´°çš„æ•¸æ“šé»ä¿¡æ¯å’Œç•°å¸¸é»æ¨™è¨˜
- **å‹•æ…‹åœ–ä¾‹**: å¯åˆ‡æ›é¡¯ç¤ºä¸åŒçµ„ä»¶çš„çµ„åˆ

## ğŸ§ª æ¸¬è©¦èˆ‡é©—è­‰

### æ•¸æ“šé©—è­‰

#### æ¸¬è©¦æ•¸æ“šé›†
- **äººå·¥åˆæˆæ•¸æ“š**: å·²çŸ¥è¶¨å‹¢+å­£ç¯€æ€§+å™ªè² - æ¸¬è©¦åˆ†è§£æº–ç¢ºæ€§
- **çœŸå¯¦é‡‘èæ•¸æ“š**: è‚¡åƒ¹ã€åŒ¯ç‡ç­‰æ­·å²æ•¸æ“š - æ¸¬è©¦å¯¦éš›æ‡‰ç”¨æ•ˆæœ
- **æ¥µå€¼æ¸¬è©¦æ•¸æ“š**: åŒ…å«å¤§é‡ç•°å¸¸å€¼çš„æ•¸æ“š - æ¸¬è©¦ç•°å¸¸æª¢æ¸¬èƒ½åŠ›

#### é‚Šç•Œæ¢ä»¶æ¸¬è©¦
- [x] çŸ­æ™‚é–“åºåˆ—æ¸¬è©¦: 30å¤©ä»¥ä¸‹æ•¸æ“šçš„è™•ç†
- [x] ç„¡å­£ç¯€æ€§æ•¸æ“šæ¸¬è©¦: ç´”è¶¨å‹¢æ•¸æ“šçš„åˆ†è§£çµæœ
- [x] é«˜å™ªè²æ•¸æ“šæ¸¬è©¦: ä¿¡å™ªæ¯”å¾ˆä½çš„æ•¸æ“šè™•ç†
- [x] ç•°å¸¸å€¼å¯†é›†æ¸¬è©¦: é€£çºŒç•°å¸¸å€¼çš„æª¢æ¸¬æ•ˆæœ
- [x] ç¼ºå¤±æ•¸æ“šæ¸¬è©¦: ä¸é€£çºŒæ™‚é–“åºåˆ—çš„è™•ç†

#### æ€§èƒ½æ¸¬è©¦
- [x] å¤§æ•¸æ“šé‡æ¸¬è©¦ (1000+ æ•¸æ“šé»): è¨ˆç®—æ™‚é–“ < 2ç§’
- [x] å¯¦æ™‚æ›´æ–°æ€§èƒ½æ¸¬è©¦: åƒæ•¸èª¿æ•´éŸ¿æ‡‰æ™‚é–“ < 500ms
- [x] è¨˜æ†¶é«”ä½¿ç”¨æ¸¬è©¦: é•·æ™‚é–“é‹è¡Œç„¡è¨˜æ†¶é«”æ´©æ¼
- [x] ä¸¦ç™¼è™•ç†æ¸¬è©¦: å¤šå€‹åˆ†è§£ä»»å‹™åŒæ™‚é‹è¡Œ

### å­¸ç¿’æ•ˆæœé©—è­‰

#### æ¦‚å¿µç†è§£æª¢æŸ¥
- [x] èƒ½è§£é‡‹STLåˆ†è§£çš„åŸºæœ¬åŸç†å’Œæ­¥é©Ÿ
- [x] èƒ½èªªæ˜ç§»å‹•å¹³å‡èˆ‡æŒ‡æ•¸å¹³æ»‘çš„å€åˆ¥
- [x] èƒ½è­˜åˆ¥å­£ç¯€æ€§æ¨¡å¼çš„ç‰¹å¾µå’Œé€±æœŸ
- [x] èƒ½ç†è§£ç•°å¸¸æª¢æ¸¬åœ¨æ™‚é–“åºåˆ—ä¸­çš„æ‡‰ç”¨

#### å¯¦æ“èƒ½åŠ›æ¸¬è©¦
- [x] èƒ½ç¨ç«‹èª¿æ•´åˆ†è§£åƒæ•¸è§€å¯Ÿæ•ˆæœè®ŠåŒ–
- [x] èƒ½è§£è®€åˆ†è§£çµæœä¸¦è­˜åˆ¥ä¸»è¦æ¨¡å¼
- [x] èƒ½ç™¼ç¾æ•¸æ“šä¸­çš„ç•°å¸¸æ¨¡å¼å’Œé€±æœŸæ€§
- [x] èƒ½æå‡ºåŸºæ–¼åˆ†è§£çµæœçš„æ¥­å‹™å»ºè­°

#### æ‡‰ç”¨å ´æ™¯ç·´ç¿’
- [x] å ´æ™¯1ï¼šè‚¡ç¥¨åƒ¹æ ¼çš„é•·æœŸè¶¨å‹¢å’ŒçŸ­æœŸæ³¢å‹•åˆ†æ
- [x] å ´æ™¯2ï¼šé›¶å”®éŠ·å”®æ•¸æ“šçš„å­£ç¯€æ€§æ¨¡å¼è­˜åˆ¥
- [x] å ´æ™¯3ï¼šç¶²ç«™æµé‡çš„é€±æœŸæ€§åˆ†æå’Œç•°å¸¸ç›£æ§

## ğŸ“ å­¸ç¿’ç­†è¨˜

### é–‹ç™¼éç¨‹è¨˜éŒ„

#### Day 1: 2025-01-08
**ä»Šæ—¥ç›®æ¨™**: å®ŒæˆSTLåˆ†è§£ç®—æ³•å¯¦ç¾å’ŒåŸºç¤æ¡†æ¶
**å®Œæˆå…§å®¹**: 
- âœ… å­¸ç¿’äº†STLåˆ†è§£çš„ç†è«–åŸºç¤å’Œç®—æ³•åŸç†
- âœ… å¯¦ç¾äº†ç°¡åŒ–ç‰ˆSTLåˆ†è§£ç®—æ³•
- âœ… è¨­è¨ˆäº†æ™‚é–“åºåˆ—æ•¸æ“šçµæ§‹å’Œæ¥å£
- âœ… å‰µå»ºäº†åŸºç¤çš„è¶¨å‹¢åˆ†è§£å™¨çµ„ä»¶æ¡†æ¶
- âœ… å¯¦ç¾äº†ç§»å‹•å¹³å‡å’ŒæŒ‡æ•¸å¹³æ»‘ç®—æ³•
**é‡åˆ°å•é¡Œ**: 
- STLåˆ†è§£ç®—æ³•çš„å­£ç¯€æ€§çµ„ä»¶è¨ˆç®—æ¯”è¼ƒè¤‡é›œ
- æ™‚é–“åºåˆ—æ•¸æ“šçš„é‚Šç•Œè™•ç†éœ€è¦ç‰¹åˆ¥æ³¨æ„
- EChartså¤šåœ–è¡¨çš„å¸ƒå±€å’Œæ•¸æ“šåŒæ­¥å•é¡Œ
**è§£æ±ºæ–¹æ¡ˆ**: 
- åƒè€ƒç¶“å…¸STLè«–æ–‡å¯¦ç¾ç°¡åŒ–ä½†æœ‰æ•ˆçš„ç®—æ³•ç‰ˆæœ¬
- ä½¿ç”¨æ•¸çµ„é‚Šç•Œæª¢æŸ¥å’ŒNaNå€¼è™•ç†é‚Šç•Œæƒ…æ³
- ä½¿ç”¨Tabsçµ„ä»¶åˆ†é›¢ä¸åŒè¦–åœ–ï¼Œæ¯å€‹åœ–è¡¨ç¨ç«‹é…ç½®
**å­¸ç¿’å¿ƒå¾—**: 
- æ™‚é–“åºåˆ—åˆ†è§£æ˜¯ä¸€å€‹å¼·å¤§çš„æ•¸æ“šåˆ†æå·¥å…·
- ç®—æ³•å¯¦ç¾éœ€è¦è€ƒæ…®æ•¸å€¼ç©©å®šæ€§å’Œé‚Šç•Œæƒ…æ³
- å¯è¦–åŒ–å°ç†è§£åˆ†è§£çµæœéå¸¸é‡è¦

#### Day 2: [æ—¥æœŸ]
**ä»Šæ—¥ç›®æ¨™**: 
**å®Œæˆå…§å®¹**: 
**é‡åˆ°å•é¡Œ**: 
**è§£æ±ºæ–¹æ¡ˆ**: 
**å­¸ç¿’å¿ƒå¾—**: 

#### Day 3: [æ—¥æœŸ]
**ä»Šæ—¥ç›®æ¨™**: 
**å®Œæˆå…§å®¹**: 
**é‡åˆ°å•é¡Œ**: 
**è§£æ±ºæ–¹æ¡ˆ**: 
**å­¸ç¿’å¿ƒå¾—**: 

#### Day 4: [æ—¥æœŸ]
**ä»Šæ—¥ç›®æ¨™**: 
**å®Œæˆå…§å®¹**: 
**é‡åˆ°å•é¡Œ**: 
**è§£æ±ºæ–¹æ¡ˆ**: 
**å­¸ç¿’å¿ƒå¾—**: 

### æ¦‚å¿µç¸½çµ

#### æ ¸å¿ƒæ¦‚å¿µç†è§£
- **æ™‚é–“åºåˆ—åˆ†è§£**: å°‡è¤‡é›œçš„æ™‚é–“åºåˆ—åˆ†è§£ç‚ºæ˜“æ–¼ç†è§£å’Œåˆ†æçš„çµ„ä»¶
- **STLæ–¹æ³•**: Seasonal-Trend-Loessï¼Œä½¿ç”¨å±€éƒ¨åŠ æ¬Šå›æ­¸çš„ç©©å¥åˆ†è§£æ–¹æ³•
- **å­£ç¯€æ€§æª¢æ¸¬**: è­˜åˆ¥æ•¸æ“šä¸­é‡è¤‡å‡ºç¾çš„é€±æœŸæ€§æ¨¡å¼
- **è¶¨å‹¢åˆ†æ**: è­˜åˆ¥æ•¸æ“šçš„é•·æœŸè®ŠåŒ–æ–¹å‘å’Œå¼·åº¦

#### æŠ€è¡“è¦é»ç¸½çµ
- **åˆ†è§£å…¬å¼**: Y(t) = Trend(t) + Seasonal(t) + Residual(t)
- **ç§»å‹•å¹³å‡**: ç”¨æ–¼å¹³æ»‘æ•¸æ“šå’Œæå–è¶¨å‹¢çµ„ä»¶
- **å­£ç¯€èª¿æ•´**: å»é™¤å­£ç¯€æ€§å½±éŸ¿å¾Œçš„æ•¸æ“šæ›´é©åˆè¶¨å‹¢åˆ†æ
- **ç•°å¸¸æª¢æ¸¬**: åŸºæ–¼æ®˜å·®çµ„ä»¶çš„çµ±è¨ˆç•°å¸¸æª¢æ¸¬æ–¹æ³•

#### æœ€ä½³å¯¦è¸
- **åƒæ•¸é¸æ“‡**: å­£ç¯€é€±æœŸæ‡‰åŸºæ–¼æ¥­å‹™çŸ¥è­˜å’Œæ•¸æ“šç‰¹å¾µé¸æ“‡
- **æ•¸æ“šæº–å‚™**: ç¢ºä¿æ™‚é–“åºåˆ—çš„é€£çºŒæ€§å’Œä¸€è‡´æ€§
- **çµæœé©—è­‰**: é€šéå¯è¦–åŒ–æª¢æŸ¥åˆ†è§£çµæœçš„åˆç†æ€§
- **å¯¦éš›æ‡‰ç”¨**: çµåˆæ¥­å‹™å ´æ™¯è§£é‡‹åˆ†è§£çµæœçš„å«ç¾©

### å»¶ä¼¸æ€è€ƒ
- **å•é¡Œ1**: å¦‚ä½•è™•ç†å¤šé‡å­£ç¯€æ€§ï¼ˆå¦‚æ—¥é€±æœŸ+å¹´é€±æœŸï¼‰çš„æ™‚é–“åºåˆ—ï¼Ÿ
- **å•é¡Œ2**: åœ¨æ•¸æ“šé‡å¾ˆå¤§æ™‚ï¼Œå¦‚ä½•å„ªåŒ–STLåˆ†è§£çš„è¨ˆç®—æ•ˆç‡ï¼Ÿ
- **æ”¹é€²æ–¹å‘**: å¯ä»¥æ·»åŠ æ›´é«˜ç´šçš„åˆ†è§£æ–¹æ³•ï¼Œå¦‚X-13ARIMA-SEATS
- **æ‡‰ç”¨æ‹“å±•**: é€™å¥—åˆ†è§£ç³»çµ±å¯ä»¥æ‡‰ç”¨åˆ°å…¶ä»–é ˜åŸŸï¼Œå¦‚èƒ½æºã€è£½é€ æ¥­ç­‰

## ğŸ”— ç›¸é—œè³‡æº

### åƒè€ƒæ–‡ç»

#### å­¸è¡“è«–æ–‡
- [STL: A Seasonal-Trend Decomposition Procedure Based on Loess](https://www.scb.se/contentassets/ca21efb41fee47d293bbee5bf7be7fb3/stl-a-seasonal-trend-decomposition-procedure-based-on-loess.pdf) - Cleveland et al., Journal of Official Statistics, 1990
- [Forecasting: Principles and Practice](https://otexts.com/fpp3/) - Hyndman & Athanasopoulos, Online Textbook, 2021

#### æŠ€è¡“æ–‡æª”
- [Time Series Decomposition](https://en.wikipedia.org/wiki/Decomposition_of_time_series) - Wikipediaæ¦‚è¿°
- [STL in R](https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/stl) - Rèªè¨€STLå¯¦ç¾æ–‡æª”

#### åœ¨ç·šæ•™ç¨‹
- [Time Series Analysis](https://www.coursera.org/learn/practical-time-series-analysis) - Courseraèª²ç¨‹, ä¸­ç´š
- [STL Decomposition Tutorial](https://machinelearningmastery.com/decompose-time-series-data-trend-seasonality/) - Machine Learning Mastery, åˆç´š

### å»¶ä¼¸å­¸ç¿’

#### é€²éšæ¦‚å¿µ
- **X-13ARIMA-SEATS**: æ›´é«˜ç´šçš„å­£ç¯€èª¿æ•´æ–¹æ³• - å­¸ç¿’å®˜æ–¹çµ±è¨ˆæ©Ÿæ§‹ä½¿ç”¨çš„æ–¹æ³•
- **å¤šé‡å­£ç¯€æ€§åˆ†è§£**: è™•ç†è¤‡é›œå­£ç¯€æ€§æ¨¡å¼ - å­¸ç¿’TBATSã€STL+ç­‰æ–¹æ³•

#### ç›¸é—œå·¥å…·
- **Rèªè¨€**: statsåŒ…çš„stl()å‡½æ•¸ - ç”¨æ–¼åƒè€ƒå¯¦ç¾å’Œæ€§èƒ½å°æ¯”
- **Python**: statsmodels.tsa.seasonal æ¨¡çµ„ - ç”¨æ–¼æ›´è¤‡é›œçš„åˆ†è§£ä»»å‹™

#### å¯¦æˆ°é …ç›®
- **ç¶“æ¿ŸæŒ‡æ¨™åˆ†æç³»çµ±**: åˆ†æGDPã€CPIç­‰å®è§€ç¶“æ¿ŸæŒ‡æ¨™ - éœ€è¦æŒæ¡ç¶“æ¿Ÿçµ±è¨ˆçŸ¥è­˜
- **IoTæ•¸æ“šåˆ†æå¹³å°**: è™•ç†å‚³æ„Ÿå™¨æ™‚é–“åºåˆ—æ•¸æ“š - éœ€è¦å­¸ç¿’å¯¦æ™‚æ•¸æ“šè™•ç†

## âœ… å®Œæˆæª¢æŸ¥æ¸…å–®

### åŠŸèƒ½å¯¦ç¾æª¢æŸ¥
- [x] STLåˆ†è§£ç®—æ³•æ­£ç¢ºå¯¦ç¾
- [x] æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½å·²å¯¦ç¾
- [x] æ‰€æœ‰ACTION BUTTONSéƒ½èƒ½æ­£å¸¸å·¥ä½œ
- [x] æ‰€æœ‰äº’å‹•åƒæ•¸éƒ½æœ‰æ•ˆæœ
- [x] éŒ¯èª¤è™•ç†æ©Ÿåˆ¶å®Œå–„
- [x] æ€§èƒ½è¡¨ç¾ç¬¦åˆè¦æ±‚

### æ•¸æ“šé©—è­‰æª¢æŸ¥
- [x] åˆ†è§£ç®—æ³•è¨ˆç®—é‚è¼¯æ­£ç¢º
- [x] æ•¸æ“šè™•ç†é‚è¼¯æ­£ç¢º
- [x] é‚Šç•Œæ¢ä»¶è™•ç†å®Œå–„
- [x] ç•°å¸¸æ•¸æ“šè™•ç†å¦¥ç•¶
- [x] è¨ˆç®—çµæœæº–ç¢ºæ€§é©—è­‰
- [x] å¤§æ•¸æ“šé‡æ¸¬è©¦é€šé

### è¦–è¦ºåŒ–æ•ˆæœæª¢æŸ¥
- [x] åœ–è¡¨é¡¯ç¤ºæ•ˆæœç†æƒ³
- [x] è‰²å½©æ­é…å”èª¿ç¾è§€
- [x] å¸ƒå±€çµæ§‹æ¸…æ™°åˆç†
- [x] éŸ¿æ‡‰å¼è¨­è¨ˆè‰¯å¥½
- [x] äº’å‹•é«”é©—æµæš¢

### å­¸ç¿’ç›®æ¨™æª¢æŸ¥
- [x] STLåˆ†è§£æ¦‚å¿µç†è§£é€å¾¹
- [x] æ™‚é–“åºåˆ—åŸç†æŒæ¡æ¸…æ¥š
- [x] å­£ç¯€æ€§åˆ†ææ‡‰ç”¨å ´æ™¯ç†è§£æ­£ç¢º
- [x] å¯¦æ“èƒ½åŠ›é”åˆ°è¦æ±‚
- [x] èƒ½å¤ èˆ‰ä¸€åä¸‰

### æ–‡æª”å®Œå–„æª¢æŸ¥
- [x] æ¨¡çµ„æ¦‚è¿°æ’°å¯«å®Œæ•´
- [x] æŠ€è¡“å¯¦ç¾è¨˜éŒ„å®Œæ•´
- [x] å­¸ç¿’éç¨‹è¨˜éŒ„è©³ç´°
- [x] æ¦‚å¿µç¸½çµæ¸…æ™°æº–ç¢º
- [x] ç›¸é—œè³‡æºæ•´ç†é½Šå…¨
- [x] æª¢æŸ¥æ¸…å–®å¡«å¯«å®Œæ•´

---

**æ¨¡çµ„é–‹å§‹æ™‚é–“**: 2025-01-08
**æ¨¡çµ„å®Œæˆæ™‚é–“**: 2025-01-08
**ç¸½å­¸ç¿’æ™‚é–“**: 1å¤© (ç´„8å°æ™‚)
**æ•´é«”è©•åƒ¹**: å„ªç§€ - æˆåŠŸå¯¦ç¾äº†å®Œæ•´çš„æ™‚é–“åºåˆ—åˆ†è§£ç³»çµ±ï¼ŒæŒæ¡äº†STLåˆ†è§£ã€ç§»å‹•å¹³å‡ã€å­£ç¯€æ€§æª¢æ¸¬ç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œå»ºç«‹äº†æ‰å¯¦çš„æ™‚é–“åºåˆ—åˆ†æåŸºç¤

> é€™å€‹æ¨¡çµ„å°‡å¹«åŠ©æ‚¨æŒæ¡æ™‚é–“åºåˆ—åˆ†æçš„æ ¸å¿ƒæŠ€èƒ½ï¼Œç‚ºå¾ŒçºŒçš„é æ¸¬å»ºæ¨¡å’Œé«˜ç´šæ™‚é–“åºåˆ—æ–¹æ³•å­¸ç¿’æ‰“ä¸‹å …å¯¦åŸºç¤ã€‚è¨˜ä½ï¼Œç†è§£æ•¸æ“šçš„çµæ§‹æ˜¯é€²è¡Œæœ‰æ•ˆåˆ†æçš„é—œéµï¼